<div class="dashboard-layout">
  <!-- Header componente -->
  <app-header
    [isUserMenuOpen]="isUserMenuOpen"
    (toggleSidebar)="toggleSidebar()"
    (toggleUserMenu)="toggleUserMenu()"
    (closeUserMenu)="closeUserMenu()"
    (navigate)="onHeaderNavigate($event)"
    (logout)="logout()">
  </app-header>

  <!-- Overlay para cerrar menÃºs en mÃ³vil -->
  <div
    class="overlay"
    [class.active]="isSidebarOpen || isUserMenuOpen"
    (click)="closeSidebar(); closeUserMenu()">
  </div>

  <!-- Componente Sidebar -->
  <app-sidebar
    [isSidebarOpen]="isSidebarOpen"
    (sidebarClose)="onSidebarClose()"
    (navigate)="onSidebarNavigate($event)">
  </app-sidebar>

  <!-- Contenido principal -->
  <main class="main-content">
    <div class="content-header">
      <h2>Bienvenido al Sistema</h2>
      <p *ngIf="userProfile() as profile" class="welcome-message">
        Hola <strong>{{ profile.username }}</strong>, tienes acceso como
        <span class="role-badge" [class.admin-badge]="profile.isAdmin" [class.user-badge]="!profile.isAdmin">
          {{ profile.isAdmin ? 'Administrador' : 'Usuario' }}
        </span>
      </p>
    </div>

    <!-- Cards de resumen -->
    <div class="dashboard-cards">
      <!-- Card para administradores -->
      <div class="dashboard-card admin-card" *appHasRole="'ROLE_ADMIN'">
        <div class="card-icon admin-icon">âš™ï¸</div>
        <div class="card-content">
          <h3>Panel de AdministraciÃ³n</h3>
          <p>Gestiona usuarios, configura el sistema y accede a reportes detallados.</p>
          <button class="card-button" (click)="goToAdmin()">Acceder al Panel</button>
        </div>
      </div>

      <!-- Card para usuarios -->
      <div class="dashboard-card user-card">
        <div class="card-icon user-icon">ğŸ‘¤</div>
        <div class="card-content">
          <h3>Mi Ãrea Personal</h3>
          <p>Accede a tus documentos, solicitudes y configura tu perfil.</p>
          <button class="card-button" (click)="goToUserArea()">Ir a Mi Ãrea</button>
        </div>
      </div>

      <!-- Card de estadÃ­sticas (ejemplo) -->
      <div class="dashboard-card stats-card">
        <div class="card-icon stats-icon">ğŸ“Š</div>
        <div class="card-content">
          <h3>EstadÃ­sticas</h3>
          <p>Revisa tu actividad y estadÃ­sticas de uso del sistema.</p>
          <button class="card-button" (click)="navigateTo('/user/stats')">Ver EstadÃ­sticas</button>
        </div>
      </div>

      <!-- Card de soporte -->
      <div class="dashboard-card support-card">
        <div class="card-icon support-icon">ğŸ“</div>
        <div class="card-content">
          <h3>Soporte</h3>
          <p>Â¿Necesitas ayuda? Contacta con nuestro equipo de soporte.</p>
          <button class="card-button" (click)="navigateTo('/user/support')">Contactar</button>
        </div>
      </div>
    </div>

    <!-- SecciÃ³n de acciones rÃ¡pidas -->
    <div class="quick-actions">
      <h3>Acciones RÃ¡pidas</h3>
      <div class="actions-grid">
        <!-- Acciones para administradores -->
        <div *appHasRole="'ROLE_ADMIN'" class="action-group">
          <button class="action-btn admin-action" (click)="navigateTo('/admin/users')">
            <span class="action-icon">ğŸ‘¥</span>
            Gestionar Usuarios
          </button>
          <button class="action-btn admin-action" (click)="navigateTo('/admin/reports')">
            <span class="action-icon">ğŸ“ˆ</span>
            Ver Reportes
          </button>
          <button class="action-btn admin-action" (click)="navigateTo('/admin/settings')">
            <span class="action-icon">âš¡</span>
            ConfiguraciÃ³n
          </button>
        </div>

        <!-- Acciones para usuarios -->
        <div class="action-group">
          <button class="action-btn user-action" (click)="navigateTo('/user/requests')">
            <span class="action-icon">ğŸ“‹</span>
            Nueva Solicitud
          </button>
          <button class="action-btn user-action" (click)="navigateTo('/user/documents')">
            <span class="action-icon">ğŸ“„</span>
            Mis Documentos
          </button>
          <button class="action-btn user-action" (click)="navigateTo('/user/profile')">
            <span class="action-icon">ğŸ”§</span>
            Editar Perfil
          </button>
        </div>
      </div>
    </div>
  </main>
</div>
